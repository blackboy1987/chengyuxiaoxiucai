"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.useAppEvent = exports.usePageEvent = exports.useQuery = exports.useNativeEffect = exports.usePageInstance = void 0;
var react_1 = require("react");
var lifecycle_1 = require("../lifecycle");
var PageContext_1 = __importDefault(require("../PageContext"));
var AppInstanceContext_1 = __importDefault(require("../AppInstanceContext"));
/**
 *  Page Hooks
 */
function usePageInstance() {
    var _a;
    return (_a = react_1.useContext(PageContext_1.default)) === null || _a === void 0 ? void 0 : _a.page;
}
exports.usePageInstance = usePageInstance;
var useNativeEffect_1 = require("./useNativeEffect");
Object.defineProperty(exports, "useNativeEffect", { enumerable: true, get: function () { return __importDefault(useNativeEffect_1).default; } });
var useQuery_1 = require("./useQuery");
Object.defineProperty(exports, "useQuery", { enumerable: true, get: function () { return __importDefault(useQuery_1).default; } });
function usePageEvent(eventName, callback) {
    var _a;
    var pageInstance = (_a = react_1.useContext(PageContext_1.default)) === null || _a === void 0 ? void 0 : _a.page;
    var lifeCycle = lifecycle_1.lifeCycleName(eventName);
    react_1.useLayoutEffect(function () {
        return lifecycle_1.registerLifecycle(pageInstance, lifeCycle, callback);
    });
}
exports.usePageEvent = usePageEvent;
/**
 * App Hooks
 */
function useAppEvent(eventName, callback) {
    var lifeCycle = lifecycle_1.lifeCycleName(eventName);
    react_1.useLayoutEffect(function () {
        return lifecycle_1.registerLifecycle(AppInstanceContext_1.default, lifeCycle, callback);
    });
}
exports.useAppEvent = useAppEvent;
